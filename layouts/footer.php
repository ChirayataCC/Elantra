<!-- Footer -->
<footer id="footer" class="footer md-pb-70">
    <div class="footer-wrap">
        <div class="footer-body">
            <div class="container">
                <div class="row">
                    <div class="col-xl-3 col-md-6 col-12">
                        <div class="footer-infor">
                            <div class="footer-logo">
                                <a href="index.php">
                                    <img src="images/logo/logo.png" alt="">
                                </a>
                            </div>
                            <ul>
                                <li>
                                    <p>Address: 350 5th Avenue, 59th Floor,
                                        <br />New York, NY 10118
                                    </p>
                                </li>
                                <li>
                                    <p>Email: <a href="mailto:contact@elantrafashion.com">contact@elantrafashion.com</a>
                                    </p>
                                </li>
                                <li>
                                    <p>Phone: <a href="tel:2127761122">(212) 776-1122</a></p>
                                </li>
                            </ul>
                            <ul class="tf-social-icon d-flex gap-10">
                                <li><a href="javascript:void(0);"
                                        class="box-icon w_34 round social-facebook social-line"><i
                                            class="icon fs-14 icon-fb"></i></a></li>
                                <li><a href="javascript:void(0);"
                                        class="box-icon w_34 round social-twiter social-line"><i
                                            class="icon fs-12 icon-Icon-x"></i></a></li>
                                <li><a href="javascript:void(0);"
                                        class="box-icon w_34 round social-instagram social-line"><i
                                            class="icon fs-14 icon-instagram"></i></a></li>
                                <li><a href="javascript:void(0);"
                                        class="box-icon w_34 round social-tiktok social-line"><i
                                            class="icon fs-14 icon-tiktok"></i></a></li>
                                <li><a href="javascript:void(0);"
                                        class="box-icon w_34 round social-pinterest social-line"><i
                                            class="icon fs-14 icon-pinterest-1"></i></a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6 col-12 footer-col-block">
                        <div class="footer-heading footer-heading-desktop">
                            <h6>Help</h6>
                        </div>
                        <div class="footer-heading footer-heading-moblie">
                            <h6>Help</h6>
                        </div>
                        <ul class="footer-menu-list tf-collapse-content">
                            <li>
                                <a href="javascript:void(0);" class="footer-menu_item">Privacy Policy</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" class="footer-menu_item"> Return Policy</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" class="footer-menu_item">Shipping Policy</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" class="footer-menu_item">Terms &amp;
                                    Conditions</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" class="footer-menu_item">FAQ’s</a>
                            <li>
                                <a href="wishlist.php" class="footer-menu_item">My Wishlist</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-xl-3 col-md-6 col-12 footer-col-block">
                        <div class="footer-heading footer-heading-desktop">
                            <h6>About us</h6>
                        </div>
                        <div class="footer-heading footer-heading-moblie">
                            <h6>About us</h6>
                        </div>
                        <ul class="footer-menu-list tf-collapse-content">
                            <li>
                                <a href="about-us.php" class="footer-menu_item">Our Story</a>
                            </li>
                            <li>
                                <a href="contact.php" class="footer-menu_item">Contact Us</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-xl-3 col-md-6 col-12">
                        <div class="footer-newsletter footer-col-block">
                            <div class="footer-heading footer-heading-desktop">
                                <h6>Sign Up for Email</h6>
                            </div>
                            <div class="footer-heading footer-heading-moblie">
                                <h6>Sign Up for Email</h6>
                            </div>
                            <div class="tf-collapse-content">
                                <div class="footer-menu_item">Subscribe to be the first to know about new arrivals, special offers, exclusive content, events, and more!</div>
                                <form class="form-newsletter subscribe-form">
                                    <div class="subscribe-content">
                                        <fieldset class="email">
                                            <input type="email" name="email-form" class="subscribe-email"
                                                placeholder="Enter your email....">
                                        </fieldset>
                                        <div class="button-submit">
                                            <button
                                                class="subscribe-button tf-btn btn-sm radius-3 btn-fill btn-icon animate-hover-btn"
                                                type="button">Subscribe<i
                                                    class="icon icon-arrow1-top-left"></i></button>
                                        </div>
                                    </div>
                                    <div class="subscribe-msg"></div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div
                            class="footer-bottom-wrap d-flex gap-20 flex-wrap justify-content-between align-items-center">
                            <div class="footer-menu_item">&copy;
                                <script>
                                    document.write(new Date().getFullYear());
                                </script> Élantra Store. All Rights Reserved
                            </div>
                            <div class="tf-payment">
                                <img src="images/payments/visa.png" alt="">
                                <img src="images/payments/img-1.png" alt="">
                                <img src="images/payments/img-2.png" alt="">
                                <img src="images/payments/img-3.png" alt="">
                                <img src="images/payments/img-4.png" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
<!-- /Footer -->

</div>



<!-- gotop -->
<button id="goTop" class="bounce-forever">
    <span class="icon icon-arrow-up"></span>
</button>
<!-- /gotop -->

<!-- mobile menu -->
<div class="offcanvas offcanvas-start canvas-mb" id="mobileMenu">
    <span class="icon-close icon-close-popup" data-bs-dismiss="offcanvas" aria-label="Close"></span>
    <div class="mb-canvas-content">
        <div class="mb-body">
            <ul class="nav-ul-mb" id="wrapper-menu-navigation">
                <li class="nav-mb-item">
                    <a href="newarrival.php" class="mb-menu-link current">
                        <span>New Arrivals</span>
                    </a>
                </li>
                <li class="nav-mb-item">
                    <a href="bestseller.php" class="mb-menu-link current">
                        <span>Best Sellers</span>
                    </a>
                </li>
                <li class="nav-mb-item">
                    <a href="collection.php" class="mb-menu-link current">
                        <span>Collection</span>
                    </a>
                </li>
                <li class="nav-mb-item">
                    <a href="about-us.php" class="mb-menu-link current">
                        <span>About Us</span>
                    </a>
                </li>
                <li class="nav-mb-item">
                    <a href="contact.php" class="mb-menu-link current">
                        <span>Contact Us</span>
                    </a>
                </li>
            </ul>
            <div class="mb-other-content">
                <div class="d-flex group-icon">
                    <a href="wishlist.php" class="site-nav-icon"><i class="icon icon-heart"></i>Wishlist</a>
                </div>
                <ul class="mb-info">
                    <li>Address: 350 5th Avenue, 59th Floor, New York, NY 10118</li>
                    <li>Email: <b>contact@elantrafashion.com</b></li>
                    <li>Phone: <b>(212) 776-1122</b></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- /mobile menu -->


<!-- shoppingCart -->
<div class="modal fullRight fade modal-shopping-cart" id="shoppingCart">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="header">
                <div class="title fw-5">Shopping cart</div>
                <span class="btn icon-close icon-close-popup" data-bs-dismiss="modal"></span>
            </div>
            <div class="wrap">
                <div class="tf-mini-cart-wrap">
                    <div class="tf-mini-cart-main">
                        <div class="tf-mini-cart-sroll">
                            <div class="tf-mini-cart-items">
                                <div class="tf-mini-cart-item">
                                    <div class="tf-mini-cart-image">
                                        <a href="product-detail.php">
                                            <img src="images/products/sunglasses/s002_2.jpg" alt="">
                                        </a>
                                    </div>
                                    <div class="tf-mini-cart-info">
                                        <a class="title link" href="product-detail.php">T-shirt</a>
                                        <div class="meta-variant">Light gray</div>
                                        <div class="price fw-6">$25.00</div>
                                        <div class="tf-mini-cart-btns">
                                            <div class="wg-quantity small">
                                                <span class="btn-quantity minus-btn">-</span>
                                                <input type="text" name="number" value="1">
                                                <span class="btn-quantity plus-btn">+</span>
                                            </div>
                                            <div class="tf-mini-cart-remove">Remove</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tf-mini-cart-bottom">
                        <div class="tf-mini-cart-bottom-wrap">
                            <div class="tf-cart-totals-discounts">
                                <div class="tf-cart-total">Subtotal</div>
                                <div class="tf-totals-total-value fw-6">$49.99 USD</div>
                            </div>
                            <div class="tf-cart-tax">Taxes and <a href="javascript:void(0);">shipping</a> calculated at
                                checkout</div>
                            <div class="tf-mini-cart-view-checkout">
                                <a href="cart.php"
                                    class="tf-btn btn-outline radius-3 link w-100 justify-content-center">View
                                    cart</a>
                                <a href="checkout.php"
                                    class="tf-btn btn-fill animate-hover-btn radius-3 w-100 justify-content-center tf-page-cart-item"><span>Check
                                        out</span></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const cartModal = document.querySelector('#shoppingCart');
        const cartItemsContainer = cartModal.querySelector('.tf-mini-cart-items');
        const subtotalEl = cartModal.querySelector('.tf-totals-total-value');
        let products = [];

        // Load products from JSON
        fetch('products.json')
            .then(res => res.json())
            .then(data => { products = data; });

        // Utility to format price
        const formatPrice = price => `$${price.toFixed(2)}`;

        // Render cart items
        function renderCart() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.length === 0 ? document.querySelector(".tf-page-cart-item").classList.add("pe-none") : document.querySelector(".tf-page-cart-item").classList.add("pe-auto;");
            cartItemsContainer.innerHTML = '';
            let subtotal = 0;

            cart.forEach((item, index) => {
                const product = products.find(p => p.id === item.id);
                if (!product) return;

                const totalPrice = product.price * item.quantity;
                subtotal += totalPrice;

                const div = document.createElement('div');
                div.className = 'tf-mini-cart-item';
                div.dataset.index = index;

                div.innerHTML = `
                <div class="tf-mini-cart-image">
                    <a href="product-detail.php?id=${product.id}">
                        <img src="${product.images?.[0] || 'images/no-image.jpg'}" alt="${product.title}">
                    </a>
                </div>
                <div class="tf-mini-cart-info">
                    <a class="title link" href="product-detail.php?id=${product.id}">${product.title}</a>
                    <div class="meta-variant">${item.color || ''} ${item.size ? `- ${item.size}` : ''}</div>
                    <div class="price fw-6">${formatPrice(totalPrice)}</div>
                    <div class="tf-mini-cart-btns">
                        <div class="wg-quantity small">
                            <span class="btn-quantity minus-btn">-</span>
                            <input type="text" value="${item.quantity}" readonly>
                            <span class="btn-quantity plus-btn">+</span>
                        </div>
                        <div class="btn tf-mini-cart-remove">Remove</div>
                    </div>
                </div>
            `;
                cartItemsContainer.appendChild(div);
            });

            subtotalEl.textContent = formatPrice(subtotal);
        }

        // Update localStorage and re-render cart
        function updateCart(cart) {
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
            updateCartCount();
        }

        // Update cart count in header
        function updateCartCount() {
            const countBox = document.querySelector('.nav-cart .nav-icon-item .count-box');
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const count = cart.reduce((sum, item) => sum + item.quantity, 0);
            if (countBox) countBox.textContent = count;
        }

        // Event listeners for cart modal interactions
        cartItemsContainer.addEventListener('click', (e) => {
            const itemEl = e.target.closest('.tf-mini-cart-item');
            if (!itemEl) return;
            const index = +itemEl.dataset.index;
            let cart = JSON.parse(localStorage.getItem('cart')) || [];

            // Quantity increase
            if (e.target.classList.contains('plus-btn')) {
                cart[index].quantity += 1;
                updateCart(cart);
            }

            // Quantity decrease
            if (e.target.classList.contains('minus-btn')) {
                if (cart[index].quantity > 1) {
                    cart[index].quantity -= 1;
                    updateCart(cart);
                }
            }

            // Remove item
            if (e.target.classList.contains('tf-mini-cart-remove')) {
                cart.splice(index, 1);
                updateCart(cart);
            }
        });

        // Re-render cart every time modal opens
        const shoppingCartModal = document.querySelector('#shoppingCart');
        shoppingCartModal.addEventListener('show.bs.modal', renderCart);

        // Initialize count on load
        updateCartCount();
    });
</script>

<!-- /shoppingCart -->


<!-- modal quick_add -->
<div class="modal fade modalDemo popup-quickadd" id="quick_add">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <!-- <div class="header">
                <span class="icon-close icon-close-popup" data-bs-dismiss="modal"></span>
            </div> -->
            <div class="wrap">
                <div class="tf-product-info-item">
                    <div class="image">
                        <img src="images/products/sunglasses/s002_2.jpg" alt="">
                    </div>
                    <div class="content">
                        <a href="product-detail.php">Ribbed Tank Top</a>
                        <div class="tf-product-info-price">
                            <!-- <div class="price-on-sale">$8.00</div>
                                <div class="compare-at-price">$10.00</div>
                                <div class="badges-on-sale"><span>20</span>% OFF</div> -->
                            <div class="price">$18.00</div>
                        </div>
                    </div>
                </div>
                <div class="tf-product-info-variant-picker mb_15">
                    <div class="variant-picker-item colorPicker">
                        <div class="variant-picker-label">
                            Color: <span class="fw-6 variant-picker-label-value">Orange</span>
                        </div>
                        <div class="variant-picker-values">
                            <input id="values-orange" type="radio" name="color" checked>
                            <label class="hover-tooltip radius-60" for="values-orange" data-value="Orange">
                                <span class="btn-checkbox bg-color-orange"></span>
                                <span class="tooltip">Orange</span>
                            </label>
                            <input id="values-black" type="radio" name="color">
                            <label class=" hover-tooltip radius-60" for="values-black" data-value="Black">
                                <span class="btn-checkbox bg-color-black"></span>
                                <span class="tooltip">Black</span>
                            </label>
                            <input id="values-white" type="radio" name="color">
                            <label class="hover-tooltip radius-60" for="values-white" data-value="White">
                                <span class="btn-checkbox bg-color-white"></span>
                                <span class="tooltip">White</span>
                            </label>
                        </div>
                    </div>
                    <div class="variant-picker-item sizePicker">
                        <div class="variant-picker-label">
                            Size: <span class="fw-6 variant-picker-label-value">S</span>
                        </div>
                        <div class="variant-picker-values">
                            <input type="radio" name="size" id="values-s" checked>
                            <label class="style-text" for="values-s" data-value="S">
                                <p>S</p>
                            </label>
                            <input type="radio" name="size" id="values-m">
                            <label class="style-text" for="values-m" data-value="M">
                                <p>M</p>
                            </label>
                            <input type="radio" name="size" id="values-l">
                            <label class="style-text" for="values-l" data-value="L">
                                <p>L</p>
                            </label>
                            <input type="radio" name="size" id="values-xl">
                            <label class="style-text" for="values-xl" data-value="XL">
                                <p>XL</p>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="tf-product-info-quantity mb_15">
                    <div class="quantity-title fw-6">Quantity</div>
                    <div class="wg-quantity">
                        <span class="btn-quantity minus-btn">-</span>
                        <input type="text" name="number" value="1">
                        <span class="btn-quantity plus-btn">+</span>
                    </div>
                </div>
                <div class="tf-product-info-buy-button">
                    <form>
                        <a
                            class="tf-btn btn-fill justify-content-center fw-6 fs-16 flex-grow-1 animate-hover-btn btn-add-to-cart"><span>Add
                                to cart</a>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        let products = [];

        // Fetch product data from JSON
        fetch('products.json')
            .then(res => res.json())
            .then(data => { products = data; });

        // Quick Add modal handler
        document.addEventListener('click', (e) => {
            const btn = e.target.closest('.quick-add');
            if (!btn) return;

            const productId = btn.dataset.productId;
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const modal = document.querySelector('#quick_add');
            const addToCartBtn = modal.querySelector('.btn-add-to-cart');

            // Set base data attributes
            addToCartBtn.setAttribute('data-product-id', product.id);
            addToCartBtn.setAttribute('data-quantity', '1'); // default quantity

            // Image, title, link, price
            modal.querySelector('.tf-product-info-item .image img').src = product.images?.[0] || '';
            modal.querySelector('.tf-product-info-item .content a').textContent = product.title;
            modal.querySelector('.tf-product-info-item .content a').href = `product-detail.php?id=${product.id}`;
            modal.querySelector('.tf-product-info-price .price').textContent = `$${product.price.toFixed(2)}`;
            addToCartBtn.innerHTML = `<span>Add to cart</span>`;

            // === COLOR ===
            const colorSection = modal.querySelector('.colorPicker');
            const colorWrapper = colorSection?.querySelector('.variant-picker-values');
            const colorLabelValue = colorSection?.querySelector('.variant-picker-label-value');
            if (Array.isArray(product.color) && product.color.length > 0) {
                colorSection.style.display = 'block';
                colorWrapper.innerHTML = product.color.map((color, i) => `
                    <input id="values-${color.toLowerCase()}" type="radio" name="color" ${i === 0 ? 'checked' : ''}>
                    <label class="hover-tooltip radius-60" for="values-${color.toLowerCase()}" data-value="${color}">
                        <span class="btn-checkbox" style="background:${color.toLowerCase()}"></span>
                        <span class="tooltip">${color}</span>
                    </label>
                `).join('');
                addToCartBtn.setAttribute('data-color', product.color[0]);
                if (colorLabelValue) colorLabelValue.textContent = product.color[0];
            } else {
                colorSection.style.display = 'none';
                addToCartBtn.removeAttribute('data-color');
            }

            // === SIZE ===
            const sizeSection = modal.querySelector('.sizePicker');
            const sizeWrapper = sizeSection?.querySelector('.variant-picker-values');
            const sizeLabelValue = sizeSection?.querySelector('.variant-picker-label-value');
            if (Array.isArray(product.size) && product.size.length > 0) {
                sizeSection.style.display = 'block';
                sizeWrapper.innerHTML = product.size.map((size, i) => `
                    <input type="radio" name="size" id="values-${size}" ${i === 0 ? 'checked' : ''}>
                    <label class="style-text" for="values-${size}" data-value="${size}">
                        <p>${size}</p>
                    </label>
                `).join('');
                addToCartBtn.setAttribute('data-size', product.size[0]);
                if (sizeLabelValue) sizeLabelValue.textContent = product.size[0];
            } else {
                sizeSection.style.display = 'none';
                addToCartBtn.removeAttribute('data-size');
            }

            // Reset quantity input to 1
            const quantityInput = modal.querySelector('.wg-quantity input[name="number"]');
            if (quantityInput) {
                quantityInput.value = '1';
                addToCartBtn.setAttribute('data-quantity', '1');
            }

            // Show modal
            new bootstrap.Modal(modal).show();
        });

        // Handle color/size/quantity changes
        document.addEventListener('change', (e) => {
            const modal = document.querySelector('#quick_add');
            const addToCartBtn = modal.querySelector('.btn-add-to-cart');
            if (!addToCartBtn) return;

            // Color
            if (e.target.name === 'color') {
                const selectedLabel = modal.querySelector('input[name="color"]:checked + label');
                const selectedColor = selectedLabel?.dataset.value;
                if (selectedColor) {
                    addToCartBtn.setAttribute('data-color', selectedColor);
                    const colorLabelValue = modal.querySelector('.colorPicker .variant-picker-label-value');
                    if (colorLabelValue) colorLabelValue.textContent = selectedColor;
                }
            }

            // Size
            if (e.target.name === 'size') {
                const selectedLabel = modal.querySelector('input[name="size"]:checked + label');
                const selectedSize = selectedLabel?.dataset.value;
                if (selectedSize) {
                    addToCartBtn.setAttribute('data-size', selectedSize);
                    const sizeLabelValue = modal.querySelector('.sizePicker .variant-picker-label-value');
                    if (sizeLabelValue) sizeLabelValue.textContent = selectedSize;
                }
            }

            // Manual quantity input
            if (e.target.name === 'number') {
                const qty = parseInt(e.target.value);
                if (!isNaN(qty) && qty > 0) {
                    addToCartBtn.setAttribute('data-quantity', qty);
                }
            }
        });

        // Handle plus/minus buttons for quantity
        document.addEventListener('click', (e) => {
            const btn = e.target.closest('.btn-quantity');
            if (!btn) return;

            const modal = document.querySelector('#quick_add');
            const quantityInput = modal.querySelector('.wg-quantity input[name="number"]');
            const addToCartBtn = modal.querySelector('.btn-add-to-cart');
            if (!quantityInput || !addToCartBtn) return;

            let qty = parseInt(quantityInput.value) || 1;

            if (btn.classList.contains('plus-btn')) {
                qty += 1;
            } else if (btn.classList.contains('minus-btn')) {
                qty = Math.max(1, qty - 1);
            }

            quantityInput.value = qty;
            addToCartBtn.setAttribute('data-quantity', qty);
        });
    });
</script>

<!--<script>
    document.addEventListener('DOMContentLoaded', () => {
        let products = [];

        // Fetch product data from JSON
        fetch('products.json')
            .then(res => res.json())
            .then(data => { products = data; });

        // Quick Add modal handler
        document.addEventListener('click', (e) => {
            const btn = e.target.closest('.quick-add');
            if (!btn) return;

            const productId = btn.dataset.productId;
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const modal = document.querySelector('#quick_add');
            const addToCartBtn = modal.querySelector('.btn-add-to-cart');

            // Set base data attributes
            addToCartBtn.setAttribute('data-product-id', product.id);
            addToCartBtn.setAttribute('data-quantity', '1'); // default quantity

            // Image, title, link, price
            modal.querySelector('.tf-product-info-item .image img').src = product.images?.[0] || '';
            modal.querySelector('.tf-product-info-item .content a').textContent = product.title;
            modal.querySelector('.tf-product-info-item .content a').href = `product-detail.php?id=${product.id}`;
            modal.querySelector('.tf-product-info-price .price').textContent = `$${product.price.toFixed(2)}`;
            addToCartBtn.innerHTML = `<span>Add to cart</span>`;

            // === COLOR ===
            const colorSection = modal.querySelector('.colorPicker');
            const colorWrapper = colorSection?.querySelector('.variant-picker-values');
            if (Array.isArray(product.color) && product.color.length > 0) {
                colorSection.style.display = 'block';
                colorWrapper.innerHTML = product.color.map((color, i) => `
                    <input id="values-${color.toLowerCase()}" type="radio" name="color" ${i === 0 ? 'checked' : ''}>
                    <label class="hover-tooltip radius-60" for="values-${color.toLowerCase()}" data-value="${color}">
                        <span class="btn-checkbox" style="background:${color.toLowerCase()}"></span>
                        <span class="tooltip">${color}</span>
                    </label>
                `).join('');
                addToCartBtn.setAttribute('data-color', product.color[0]);
            } else {
                colorSection.style.display = 'none';
                addToCartBtn.removeAttribute('data-color');
            }

            // === SIZE ===
            const sizeSection = modal.querySelector('.sizePicker');
            const sizeWrapper = sizeSection?.querySelector('.variant-picker-values');
            if (Array.isArray(product.size) && product.size.length > 0) {
                sizeSection.style.display = 'block';
                sizeWrapper.innerHTML = product.size.map((size, i) => `
                    <input type="radio" name="size" id="values-${size}" ${i === 0 ? 'checked' : ''}>
                    <label class="style-text" for="values-${size}" data-value="${size}">
                        <p>${size}</p>
                    </label>
                `).join('');
                addToCartBtn.setAttribute('data-size', product.size[0]);
            } else {
                sizeSection.style.display = 'none';
                addToCartBtn.removeAttribute('data-size');
            }

            // Reset quantity input to 1
            const quantityInput = modal.querySelector('.wg-quantity input[name="number"]');
            if (quantityInput) {
                quantityInput.value = '1';
                addToCartBtn.setAttribute('data-quantity', '1');
            }

            // Show modal
            new bootstrap.Modal(modal).show();
        });

        // Handle color/size/quantity changes
        document.addEventListener('change', (e) => {
            const modal = document.querySelector('#quick_add');
            const addToCartBtn = modal.querySelector('.btn-add-to-cart');
            if (!addToCartBtn) return;

            // Color
            if (e.target.name === 'color') {
                const selectedLabel = modal.querySelector('input[name="color"]:checked + label');
                const selectedColor = selectedLabel?.dataset.value;
                if (selectedColor) {
                    addToCartBtn.setAttribute('data-color', selectedColor);
                }
            }

            // Size
            if (e.target.name === 'size') {
                const selectedLabel = modal.querySelector('input[name="size"]:checked + label');
                const selectedSize = selectedLabel?.dataset.value;
                if (selectedSize) {
                    addToCartBtn.setAttribute('data-size', selectedSize);
                }
            }

            // Manual input in quantity
            if (e.target.name === 'number') {
                const qty = parseInt(e.target.value);
                if (!isNaN(qty) && qty > 0) {
                    addToCartBtn.setAttribute('data-quantity', qty);
                }
            }
        });

        // Handle plus/minus buttons in quantity
        document.addEventListener('click', (e) => {
            const btn = e.target.closest('.btn-quantity');
            if (!btn) return;

            const modal = document.querySelector('#quick_add');
            const quantityInput = modal.querySelector('.wg-quantity input[name="number"]');
            const addToCartBtn = modal.querySelector('.btn-add-to-cart');
            if (!quantityInput || !addToCartBtn) return;

            let qty = parseInt(quantityInput.value) || 1;

            if (btn.classList.contains('plus-btn')) {
                qty += 1;
            } else if (btn.classList.contains('minus-btn')) {
                qty = Math.max(1, qty - 1);
            }

            quantityInput.value = qty;
            addToCartBtn.setAttribute('data-quantity', qty);
        });
    });
</script>-->
<!-- /modal quick_add -->


<!-- wishlist count -->
<script>
    function updateWishlistCount() {
        const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
        const countBox = document.querySelector('.nav-icon-item .count-box');
        if (countBox) {
            countBox.textContent = wishlist.length;
        }
    }

</script>
<!-- wishlist count -->

<!-- add to wishlist -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];

        function updateWishlistCount() {
            const countBox = document.querySelector('.nav-icon-item .count-box');
            if (countBox) {
                countBox.textContent = wishlist.length;
            }
        }

        // Delegate click listener for dynamic content
        document.addEventListener('click', function (e) {
            const btn = e.target.closest('.wishlist-btn');
            if (!btn) return;

            const productId = btn.dataset.productId;
            if (!productId) return;

            const index = wishlist.indexOf(productId);
            if (index > -1) {
                wishlist.splice(index, 1);
                btn.classList.remove('active');
            } else {
                wishlist.push(productId);
                btn.classList.add('active');
            }

            localStorage.setItem('wishlist', JSON.stringify(wishlist));
            updateWishlistCount(); // ✅ Update count on each change
        });

        // Set button active states on page load
        document.querySelectorAll('.wishlist-btn').forEach(btn => {
            const productId = btn.dataset.productId;
            if (wishlist.includes(productId)) {
                btn.classList.add('active');
            }
        });

        updateWishlistCount(); // ✅ Initial count setup
    });

</script>
<!-- /add to wishlist -->

<!-- add to cart -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Retrieve or initialize cart array from localStorage
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        // Update the cart count badge in the header
        function updateCartCount() {
            const countBox = document.querySelector('.nav-cart .nav-icon-item .count-box');
            if (countBox) {
                countBox.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
            }
        }

        // Handle add-to-cart clicks
        document.addEventListener('click', function (e) {
            const btn = e.target.closest('.btn-add-to-cart');
            if (!btn) return;

            const productId = btn.getAttribute('data-product-id');
            const color = btn.getAttribute('data-color');
            const size = btn.getAttribute('data-size');
            const quantity = parseInt(btn.getAttribute('data-quantity')) || 1;

            if (!productId) return;

            // Check if the exact same product (same ID, color, size) is already in cart
            const existingItem = cart.find(item =>
                item.id === productId &&
                item.color === color &&
                item.size === size
            );

            if (existingItem) {
                // Update quantity
                existingItem.quantity += quantity;
            } else {
                // Add new item
                cart.push({
                    id: productId,
                    color: color,
                    size: size,
                    quantity: quantity
                });
            }

            // Save updated cart and update count
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();

            // Open the cart modal
            const cartModalEl = document.getElementById('shoppingCart');
            if (cartModalEl) {
                const cartModal = new bootstrap.Modal(cartModalEl);
                cartModal.show();
            }
        });

        // Initialize cart count on page load
        updateCartCount();
    });
</script>
<!-- add to cart -->


<!-- Javascript -->
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.min.js"></script>
<script src="js/swiper-bundle.min.js"></script>
<script src="js/carousel.js"></script>
<script src="js/bootstrap-select.min.js"></script>
<script src="js/lazysize.min.js"></script>
<script src="js/wow.min.js"></script>
<script src="js/multiple-modal.js"></script>
<script src="js/main.js"></script>
</body>

</html>