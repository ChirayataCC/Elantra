<!DOCTYPE html>

<html lang="en-US">

<head>
    <meta charset="utf-8">
    <title>Élantra</title>

    <meta name="author" content="Chirayata Halder">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- font -->
    <link rel="stylesheet" href="fonts/fonts.css">
    <link rel="stylesheet" href="fonts/font-icons.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/swiper-bundle.min.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css?v=<?= time() ?>" />

    <!-- Favicon and Touch Icons  -->
    <link rel="shortcut icon" href="images/logo/favicon.png">
    <link rel="apple-touch-icon-precomposed" href="images/logo/favicon.png">
</head>

<body>
    <!-- Header -->
    <header id="header" class="header-default header-absolute">
        <div class="px_15 lg-px_40">
            <div class="row wrapper-header align-items-center">
                <div class="col-md-4 col-3 tf-lg-hidden">
                    <a href="#mobileMenu" data-bs-toggle="offcanvas" aria-controls="offcanvasLeft">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="16" viewBox="0 0 24 16" fill="none">
                            <path
                                d="M2.00056 2.28571H16.8577C17.1608 2.28571 17.4515 2.16531 17.6658 1.95098C17.8802 1.73665 18.0006 1.44596 18.0006 1.14286C18.0006 0.839753 17.8802 0.549063 17.6658 0.334735C17.4515 0.120408 17.1608 0 16.8577 0H2.00056C1.69745 0 1.40676 0.120408 1.19244 0.334735C0.978109 0.549063 0.857702 0.839753 0.857702 1.14286C0.857702 1.44596 0.978109 1.73665 1.19244 1.95098C1.40676 2.16531 1.69745 2.28571 2.00056 2.28571ZM0.857702 8C0.857702 7.6969 0.978109 7.40621 1.19244 7.19188C1.40676 6.97755 1.69745 6.85714 2.00056 6.85714H22.572C22.8751 6.85714 23.1658 6.97755 23.3801 7.19188C23.5944 7.40621 23.7148 7.6969 23.7148 8C23.7148 8.30311 23.5944 8.59379 23.3801 8.80812C23.1658 9.02245 22.8751 9.14286 22.572 9.14286H2.00056C1.69745 9.14286 1.40676 9.02245 1.19244 8.80812C0.978109 8.59379 0.857702 8.30311 0.857702 8ZM0.857702 14.8571C0.857702 14.554 0.978109 14.2633 1.19244 14.049C1.40676 13.8347 1.69745 13.7143 2.00056 13.7143H12.2863C12.5894 13.7143 12.8801 13.8347 13.0944 14.049C13.3087 14.2633 13.4291 14.554 13.4291 14.8571C13.4291 15.1602 13.3087 15.4509 13.0944 15.6653C12.8801 15.8796 12.5894 16 12.2863 16H2.00056C1.69745 16 1.40676 15.8796 1.19244 15.6653C0.978109 15.4509 0.857702 15.1602 0.857702 14.8571Z"
                                fill="currentColor"></path>
                        </svg>
                    </a>
                </div>
                <div class="col-xl-3 col-md-4 col-6">
                    <a href="index.html" class="logo-header">
                        <img src="images/logo/logo.png" alt="logo" class="logo">
                    </a>
                </div>
                <div class="col-xl-6 tf-md-hidden">
                    <nav class="box-navigation text-center">
                        <ul class="box-nav-ul d-flex align-items-center justify-content-center gap-30">
                            <li class="menu-item">
                                <a href="newarrival.html" class="item-link">New Arrivals</a>
                            </li>
                            <li class="menu-item">
                                <a href="bestseller.html" class="item-link">Best Sellers</a>
                            </li>
                            <li class="menu-item">
                                <a href="collection.html" class="item-link">Collection</a>
                            </li>
                            <li class="menu-item">
                                <a href="about-us.html" class="item-link">About Us</a>
                            </li>
                            <li class="menu-item">
                                <a href="contact.html" class="item-link">Contact Us</a>
                            </li>
                        </ul>
                    </nav>
                </div>
                <div class="col-xl-3 col-md-4 col-3">
                    <ul class="nav-icon d-flex justify-content-end align-items-center gap-20">
                        <li class="nav-wishlist"><a href="wishlist.html" class="nav-icon-item"><i
                                    class="icon icon-heart"></i><span class="count-box">0</span></a></li>
                        <li class="nav-cart"><a href="#shoppingCart" data-bs-toggle="modal" class="nav-icon-item"><i
                                    class="icon icon-bag"></i><span class="count-box">0</span></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </header>
    <!-- /Header -->
<!-- Slider -->
<div class="tf-slideshow slider-effect-fade position-relative">
    <div dir="ltr" class="swiper tf-sw-slideshow" data-preview="1" data-tablet="1" data-mobile="1" data-centered="false"
        data-space="0" data-loop="true" data-auto-play="false" data-delay="0" data-speed="1000">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <div class="wrap-slider">
                    <img src="images/slider/fashion-slideshow-01.jpg" alt="fashion-slideshow">
                    <div class="box-content">
                        <div class="container">
                            <h1 class="fade-item fade-item-1">Bold <br>Style</h1>
                            <p class="fade-item fade-item-2">Discover sharp, confident looks for every modern man.</p>
                            <a href="shop.html?category=men"
                                class="fade-item fade-item-3 tf-btn btn-fill animate-hover-btn btn-xl radius-3"><span>Shop
                                    collection</span><i class="icon icon-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="swiper-slide">
                <div class="wrap-slider">
                    <img src="images/slider/fashion-slideshow-02.jpg" alt="fashion-slideshow">
                    <div class="box-content">
                        <div class="container">
                            <h1 class="fade-item fade-item-1">Chic <br class="md-hidden">Trends</h1>
                            <p class="fade-item fade-item-2">Elevate your wardrobe with fresh, stylish pieces daily.</p>
                            <a href="shop.html?category=women"
                                class="fade-item fade-item-3 tf-btn btn-fill animate-hover-btn btn-xl radius-3"><span>Shop
                                    collection</span><i class="icon icon-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="swiper-slide">
                <div class="wrap-slider">
                    <img src="images/slider/fashion-slideshow-03.jpg" alt="fashion-slideshow">
                    <div class="box-content">
                        <div class="container">
                            <h1 class="fade-item fade-item-1">Little <br>Looks</h1>
                            <p class="fade-item fade-item-2">Fun, comfy fashion perfect for playful growing adventures.</p>
                            <a href="shop.html?category=kids"
                                class="fade-item fade-item-3 tf-btn btn-fill animate-hover-btn btn-xl radius-3"><span>Shop
                                    collection</span><i class="icon icon-arrow-right"></i></a>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="wrap-pagination">
        <div class="container">
            <div class="sw-dots sw-pagination-slider justify-content-center"></div>
        </div>
    </div>
</div>
<!-- /Slider -->
<!-- Categories -->
<section class="flat-spacing-4 flat-categorie">
    <div class="container-full">
        <div class="flat-title-v2">
            <div class="box-sw-navigation">
                <div class="nav-sw nav-next-slider nav-next-collection"><span class="icon icon-arrow-left"></span></div>
                <div class="nav-sw nav-prev-slider nav-prev-collection"><span class="icon icon-arrow-right"></span>
                </div>
            </div>
            <span class="text-3 fw-7 text-uppercase title wow fadeInUp" data-wow-delay="0s">SHOP BY
                CATEGORIES</span>
        </div>
        <div class="row">
            <div class="col-xl-9 col-lg-8 col-md-8">
                <div dir="ltr" class="swiper tf-sw-collection" data-preview="3" data-tablet="2" data-mobile="2"
                    data-space-lg="30" data-space-md="30" data-space="15" data-loop="false" data-auto-play="false">
                    <div class="swiper-wrapper" id="collection-swiper-wrapper">

                    </div>
                    <script>
                        fetch('collection.json') // Adjust the path accordingly
                            .then(response => {
                                if (!response.ok) throw new Error('Network response was not ok');
                                return response.json();
                            })
                            .then(collections => {
                                const container = document.getElementById('collection-swiper-wrapper');

                                // Build all slides HTML as one string
                                const slidesHTML = collections.map(collection => `
                                <div class="swiper-slide" lazy="true">
                                <div class="collection-item style-left hover-img">
                                    <div class="collection-inner">
                                    <a href="shop.html?category=${encodeURIComponent(collection.category)}" class="collection-image img-style">
                                        <img class="lazyload" src="${collection.image}" alt="${collection.title} collection">
                                    </a>
                                    <div class="collection-content">
                                        <a href="shop.html?category=${encodeURIComponent(collection.category)}" class="tf-btn collection-title hover-icon fs-15">
                                        <span>${collection.title}</span><i class="icon icon-arrow1-top-left"></i>
                                        </a>
                                    </div>
                                    </div>
                                </div>
                                </div>
                            `).join('');

                                // Inject all slides at once
                                container.innerHTML = slidesHTML;

                                // Optional: Initialize or update swiper slider if using Swiper.js
                                // swiper.update();
                            })
                            .catch(error => console.error('Failed to load collections:', error));
                    </script>


                </div>
            </div>
            <div class="col-xl-3 col-lg-4 col-md-4">
                <div class="discovery-new-item">
                    <h5>Discovery all new items</h5>
                    <a href="collection.html"><i class="icon-arrow1-top-left"></i></a>
                </div>
            </div>
        </div>

    </div>
</section>
<!-- /Categories -->
<!-- Seller -->
<section class="flat-spacing-5 pt_0 flat-seller">
    <div class="container">
        <div class="flat-title">
            <span class="title wow fadeInUp" data-wow-delay="0s">Top Picks</span>
            <p class="sub-title wow fadeInUp" data-wow-delay="0s">Discover the Hottest Trends: Keep your style fresh
                with our latest arrivals</p>

        </div>
        <!-- Bestseller Products Container -->
        <div class="grid-layout loadmore-item wow fadeInUp" data-wow-delay="0s" data-grid="grid-4"
            id="bestseller-products"></div>

        <script>
            fetch('products.json')
                .then(response => response.json())
                .then(products => {
                    // Filter only bestseller products
                    const bestsellerProducts = products.filter(product => product.bestseller);
                    const container = document.getElementById('bestseller-products');

                    bestsellerProducts.forEach(product => {

                        const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
                        // Use first image as main, second as hover image fallback to main if no second
                        const isWishlisted = wishlist.includes(product.id);
                        const mainImg = product.images?.[0] || 'images/placeholder.jpg';
                        const hoverImg = product.images?.[1] || mainImg;

                        // HTML template for each product card
                        const html = `
                <div class="card-product fl-item">
                <div class="card-product-wrapper">
                    <a href="product-detail.html?id=${product.id}" class="product-img">
                    <img class="lazyload img-product" data-src="${mainImg}" src="${mainImg}" alt="${product.title}">
                    <img class="lazyload img-hover" data-src="${hoverImg}" src="${hoverImg}" alt="${product.title}">
                    </a>
                    <div class="list-product-btn">
                    <a href="#quick_add" data-bs-toggle="modal" class="box-icon bg_white quick-add" data-product-id="${product.id}">
                        <span class="icon icon-bag"></span>
                        <span class="tooltip">Quick Add</span>
                    </a>
                    <a href="javascript:void(0);" class="box-icon bg_white wishlist btn-icon-action wishlist-btn ${isWishlisted ? 'active' : ''}" data-product-id="${product.id}">
                        <span class="icon icon-heart"></span>
                        <span class="tooltip">${isWishlisted ? 'Remove from Wishlist' : 'Add to Wishlist'}</span>
                        <span class="icon icon-delete"></span>
                    </a>
                    </div>
                </div>
                <div class="card-product-info">
                    <a href="product-detail.html?id=${product.id}" class="title link">${product.title}</a>
                    <span class="price">$${product.price.toFixed(2)}</span>
                </div>
                </div>
            `;

                        // Append product card HTML to container
                        container.insertAdjacentHTML('beforeend', html);
                    });
                })
                .catch(error => {
                    console.error('Error loading products.json:', error);
                });
        </script>

        <div class="tf-pagination-wrap view-more-button text-center">
            <button class="tf-btn-loading tf-loading-default style-2 btn-loadmore "><span class="text">Load
                    more</span></button>
        </div>
    </div>
</section>
<!-- /Seller -->
<!-- Lookbook -->
<section class="flat-spacing-6">
    <div class="flat-title wow fadeInUp" data-wow-delay="0s">
        <span class="title">Style the Look</span>
        <p class="sub-title">Find inspiration and share your own — from one distinctive fashion to the next.</p>

    </div>
    <div dir="ltr" class="swiper tf-sw-lookbook" data-preview="2" data-tablet="2" data-mobile="1" data-space-lg="0"
        data-space-md="0">
        <div class="swiper-wrapper">
            <div class="swiper-slide" lazy="true">
                <div class="wrap-lookbook lookbook-1">
                    <div class="image">
                        <img class="lazyload" src="images/products/men/m001_2.jpg" alt="image-lookbook">
                    </div>
                    <div class="lookbook-item item-2">
                        <div class="inner">
                            <div class="btn-group dropdown dropup dropdown-center">
                                <button class="tf-pin-btn" data-bs-toggle="dropdown" aria-expanded="false">
                                    <span></span>
                                </button>
                                <ul class="dropdown-menu p-0 border-0">
                                    <li>
                                        <div class="lookbook-product">
                                            <a href="product-detail.html?id=m001" class="image">
                                                <img class="lazyload" src="images/products/men/m001_2.jpg"
                                                    alt="lookbook-item">
                                            </a>
                                            <div class="content-wrap">
                                                <div class="product-title">
                                                    <a href="product-detail.html?id=m001">Men's 100% Cotton 220 GSM
                                                        Graphic Print Oversized Fit Round Neck T-Shirt</a>
                                                </div>
                                                <div class="price">$25.99</div>
                                            </div>
                                            <a href="product-detail.html?id=m001" class=""><i
                                                    class="icon icon-arrow1-top-left"></i></a>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" lazy="true">
                <div class="wrap-lookbook lookbook-2">
                    <div class="image">
                        <img class="lazyload" src="images/products/women/w003_2.jpg" alt="image-lookbook">
                    </div>
                    <div class="lookbook-item item-1">
                        <div class="inner">
                            <div class="btn-group dropdown dropup dropdown-center">
                                <button class="tf-pin-btn" data-bs-toggle="dropdown" aria-expanded="false">
                                    <span></span>
                                </button>
                                <ul class="dropdown-menu p-0 border-0">
                                    <li>
                                        <div class="lookbook-product">
                                            <a href="product-detail.html?id=w003" class="image">
                                                <img class="lazyload" src="images/products/women/w003_2.jpg" alt="">
                                            </a>
                                            <div class="content-wrap">
                                                <div class="product-title">
                                                    <a href="product-detail.html?id=w003">Women's Rayon Viscose Anarkali
                                                        Printed Kurta with Palazzo & Dupatta</a>
                                                </div>
                                                <div class="price">$69.99</div>
                                            </div>
                                            <a href="product-detail.html?id=w003" class=""><i
                                                    class="icon icon-arrow1-top-left"></i></a>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="wrap-pagination">
            <div class="container-full">
                <div class="sw-dots sw-pagination-lookbook justify-content-center"></div>
            </div>
        </div>
    </div>
</section>
<!-- /Lookbook -->
<!-- Testimonial -->
<section class="flat-spacing-5 pt_0 flat-testimonial">
    <div class="container">
        <div class="flat-title wow fadeInUp" data-wow-delay="0s">
            <span class="title">Happy Clients</span>
            <p class="sub-title">Hear what they say about us</p>
        </div>
        <div class="wrap-carousel">
            <div dir="ltr" class="swiper tf-sw-testimonial" data-preview="3" data-tablet="2" data-mobile="1"
                data-space-lg="30" data-space-md="15">
                <div class="swiper-wrapper" id="testimonial-wrapper"></div>
            </div>

            <div class="nav-sw nav-next-slider nav-next-testimonial lg"><span class="icon icon-arrow-left"></span></div>
            <div class="nav-sw nav-prev-slider nav-prev-testimonial lg"><span class="icon icon-arrow-right"></span>
            </div>
            <div class="sw-dots style-2 sw-pagination-testimonial justify-content-center"></div>
        </div>
    </div>
</section>
<!-- /Testimonial -->
<!-- Shop Gram -->
<section class="flat-spacing-7">
    <div class="container">
        <div class="flat-title wow fadeInUp" data-wow-delay="0s">
            <span class="title">Shop Gram</span>
            <p class="sub-title">Inspire and let yourself be inspired, from one unique fashion to another.</p>
        </div>
        <div class="wrap-carousel wrap-shop-gram">
            <div dir="ltr" class="swiper tf-sw-shop-gallery" data-preview="5" data-tablet="3" data-mobile="2"
                data-space-lg="7" data-space-md="7">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <div class="gallery-item hover-img wow fadeInUp" data-wow-delay=".2s">
                            <div class="img-style">
                                <img class="lazyload img-hover" src="images/products/men/m003_2.jpg"
                                    alt="image-gallery">
                            </div>
                            <a href="#quick_add" data-product-id="m003" data-bs-toggle="modal"
                                class="quick-add box-icon"><span class="icon icon-bag"></span> <span
                                    class="tooltip">Quick Add</span></a>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="gallery-item hover-img wow fadeInUp" data-wow-delay=".3s">
                            <div class="img-style">
                                <img class="lazyload img-hover" src="images/products/women/w002_2.jpg"
                                    alt="image-gallery">
                            </div>
                            <a href="#quick_add" data-product-id="w002" data-bs-toggle="modal"
                                class="quick-add box-icon"><span class="icon icon-bag"></span> <span
                                    class="tooltip">Quick Add</span></a>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="gallery-item hover-img wow fadeInUp" data-wow-delay=".4s">
                            <div class="img-style">
                                <img class="lazyload img-hover" src="images/products/kids/k001_2.jpg"
                                    alt="image-gallery">
                            </div>
                            <a href="#quick_add" data-product-id="k001" data-bs-toggle="modal"
                                class="quick-add box-icon"><span class="icon icon-bag"></span> <span
                                    class="tooltip">Quick Add</span></a>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="gallery-item hover-img wow fadeInUp" data-wow-delay=".5s">
                            <div class="img-style">
                                <img class="lazyload img-hover" src="images/products/sunglasses/s002_2.jpg"
                                    alt="image-gallery">
                            </div>
                            <a href="product-detail.html?id=s002" class="box-icon"><span class="icon icon-bag"></span>
                                <span class="tooltip">View product</span></a>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="gallery-item hover-img wow fadeInUp" data-wow-delay=".6s">
                            <div class="img-style">
                                <img class="lazyload img-hover" src="images/products/bag/b001_1.jpg"
                                    alt="image-gallery">
                            </div>
                            <a href="product-detail.html?id=b001" class="box-icon"><span class="icon icon-bag"></span>
                                <span class="tooltip">View product</span></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sw-dots sw-pagination-gallery justify-content-center"></div>
        </div>
    </div>
</section>
<!-- /Shop Gram -->
<!-- Icon box -->
<section class="flat-spacing-7 flat-iconbox wow fadeInUp" data-wow-delay="0s">
    <div class="container">
        <div class="wrap-carousel wrap-mobile">
            <div dir="ltr" class="swiper tf-sw-mobile" data-preview="1" data-space="15">
                <div class="swiper-wrapper wrap-iconbox">
                    <div class="swiper-slide">
                        <div class="tf-icon-box style-border-line text-center">
                            <div class="icon">
                                <i class="icon-shipping"></i>
                            </div>
                            <div class="content">
                                <div class="title">Free Shipping</div>
                                <p>Free shipping over order $120</p>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="tf-icon-box style-border-line text-center">
                            <div class="icon">
                                <i class="icon-payment fs-22"></i>
                            </div>
                            <div class="content">
                                <div class="title">Flexible Payment</div>
                                <p>Pay with Multiple Credit Cards</p>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="tf-icon-box style-border-line text-center">
                            <div class="icon">
                                <i class="icon-return fs-22"></i>
                            </div>
                            <div class="content">
                                <div class="title">14 Day Returns</div>
                                <p>Within 30 days for an exchange</p>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="tf-icon-box style-border-line text-center">
                            <div class="icon">
                                <i class="icon-suport"></i>
                            </div>
                            <div class="content">
                                <div class="title">Premium Support</div>
                                <p>Outstanding premium support</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sw-dots style-2 sw-pagination-mb justify-content-center"></div>
        </div>
    </div>
</section>
<!-- /Icon box -->


<!-- testimonial -->
<script>
    const testimonialURL = 'testimonials.json'; // Update these paths
    const productURL = 'products.json';
    const maxSlides = 10;

    async function fetchData() {
        const [testimonialRes, productRes] = await Promise.all([
            fetch(testimonialURL),
            fetch(productURL)
        ]);

        const testimonialsData = await testimonialRes.json();
        const productsData = await productRes.json();
        return { testimonialsData, productsData };
    }

    function getRandomTestimonials(testimonialsData, limit) {
        const all = testimonialsData.flatMap(product =>
            product.testimonials.map(t => ({ ...t, productId: product.id }))
        );
        for (let i = all.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [all[i], all[j]] = [all[j], all[i]];
        }
        return all.slice(0, limit);
    }

    function getProductById(productsData, productId) {
        return productsData.find(p => p.id === productId);
    }

    function createTestimonialSlide(t, product) {
        const imageUrl = product?.images?.[0] || 'images/default.jpg';
        const starsHTML = '<i class="icon-star"></i>'.repeat(t.stars || 5);
        const price = product?.price?.toFixed(2) || "N/A";
        const productTitle = product?.title || "Product Name";

        return `
      <div class="swiper-slide">
        <div class="testimonial-item style-column wow fadeInUp">
          <div class="rating">${starsHTML}</div>
          <div class="heading">${t.heading}</div>
          <div class="text">“ ${t.text} ”</div>
          <div class="author">
            <div class="name">${t.fullname}</div>
            <div class="metas">Verified Buyer</div>
          </div>
          <div class="product">
            <div class="image">
              <a href="product-detail.html?id=${t.productId}">
                <img class="lazyload" data-src="${imageUrl}" src="${imageUrl}" alt="${productTitle}">
              </a>
            </div>
            <div class="content-wrap">
              <div class="product-title">
                <a href="product-detail.html?id=${t.productId}">${productTitle}</a>
              </div>
              <div class="price">$${price}</div>
            </div>
            <a href="product-detail.html?id=${t.productId}" class=""><i class="icon-arrow1-top-left"></i></a>
          </div>
        </div>
      </div>
    `;
    }

    fetchData().then(({ testimonialsData, productsData }) => {
        const wrapper = document.getElementById('testimonial-wrapper');
        const selectedTestimonials = getRandomTestimonials(testimonialsData, maxSlides);

        selectedTestimonials.forEach(t => {
            const product = getProductById(productsData, t.productId);
            const slideHTML = createTestimonialSlide(t, product);
            wrapper.insertAdjacentHTML('beforeend', slideHTML);
        });

        new Swiper('.tf-sw-testimonial', {
            slidesPerView: 3,
            spaceBetween: 30,
            breakpoints: {
                1024: { slidesPerView: 3 },
                768: { slidesPerView: 2 },
                320: { slidesPerView: 1 }
            },
            loop: true,
            autoplay: {
                delay: 5000
            }
        });
    });
</script>
<!-- /testimonial -->


<!-- Footer -->
<footer id="footer" class="footer md-pb-70">
    <div class="footer-wrap">
        <div class="footer-body">
            <div class="container">
                <div class="row">
                    <div class="col-xl-3 col-md-6 col-12">
                        <div class="footer-infor">
                            <div class="footer-logo">
                                <a href="index.html">
                                    <img src="images/logo/logo.png" alt="">
                                </a>
                            </div>
                            <ul>
                                <li>
                                    <p>Address: 350 5th Avenue, 59th Floor,
                                        <br />New York, NY 10118
                                    </p>
                                </li>
                                <li>
                                    <p>Email: <a href="mailto:contact@elantrafashion.com">contact@elantrafashion.com</a>
                                    </p>
                                </li>
                                <li>
                                    <p>Phone: <a href="tel:2127761122">(212) 776-1122</a></p>
                                </li>
                            </ul>
                            <ul class="tf-social-icon d-flex gap-10">
                                <li><a href="javascript:void(0);"
                                        class="box-icon w_34 round social-facebook social-line"><i
                                            class="icon fs-14 icon-fb"></i></a></li>
                                <li><a href="javascript:void(0);"
                                        class="box-icon w_34 round social-twiter social-line"><i
                                            class="icon fs-12 icon-Icon-x"></i></a></li>
                                <li><a href="javascript:void(0);"
                                        class="box-icon w_34 round social-instagram social-line"><i
                                            class="icon fs-14 icon-instagram"></i></a></li>
                                <li><a href="javascript:void(0);"
                                        class="box-icon w_34 round social-tiktok social-line"><i
                                            class="icon fs-14 icon-tiktok"></i></a></li>
                                <li><a href="javascript:void(0);"
                                        class="box-icon w_34 round social-pinterest social-line"><i
                                            class="icon fs-14 icon-pinterest-1"></i></a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6 col-12 footer-col-block">
                        <div class="footer-heading footer-heading-desktop">
                            <h6>Help</h6>
                        </div>
                        <div class="footer-heading footer-heading-moblie">
                            <h6>Help</h6>
                        </div>
                        <ul class="footer-menu-list tf-collapse-content">
                            <li>
                                <a href="javascript:void(0);" class="footer-menu_item">Privacy Policy</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" class="footer-menu_item"> Return Policy</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" class="footer-menu_item">Shipping Policy</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" class="footer-menu_item">Terms &amp;
                                    Conditions</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" class="footer-menu_item">FAQ’s</a>
                            <li>
                                <a href="wishlist.html" class="footer-menu_item">My Wishlist</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-xl-3 col-md-6 col-12 footer-col-block">
                        <div class="footer-heading footer-heading-desktop">
                            <h6>About us</h6>
                        </div>
                        <div class="footer-heading footer-heading-moblie">
                            <h6>About us</h6>
                        </div>
                        <ul class="footer-menu-list tf-collapse-content">
                            <li>
                                <a href="about-us.html" class="footer-menu_item">Our Story</a>
                            </li>
                            <li>
                                <a href="contact.html" class="footer-menu_item">Contact Us</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-xl-3 col-md-6 col-12">
                        <div class="footer-newsletter footer-col-block">
                            <div class="footer-heading footer-heading-desktop">
                                <h6>Sign Up for Email</h6>
                            </div>
                            <div class="footer-heading footer-heading-moblie">
                                <h6>Sign Up for Email</h6>
                            </div>
                            <div class="tf-collapse-content">
                                <div class="footer-menu_item">Subscribe to be the first to know about new arrivals, special offers, exclusive content, events, and more!</div>
                                <form class="form-newsletter subscribe-form">
                                    <div class="subscribe-content">
                                        <fieldset class="email">
                                            <input type="email" name="email-form" class="subscribe-email"
                                                placeholder="Enter your email....">
                                        </fieldset>
                                        <div class="button-submit">
                                            <button
                                                class="subscribe-button tf-btn btn-sm radius-3 btn-fill btn-icon animate-hover-btn"
                                                type="button">Subscribe<i
                                                    class="icon icon-arrow1-top-left"></i></button>
                                        </div>
                                    </div>
                                    <div class="subscribe-msg"></div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div
                            class="footer-bottom-wrap d-flex gap-20 flex-wrap justify-content-between align-items-center">
                            <div class="footer-menu_item">&copy;
                                <script>
                                    document.write(new Date().getFullYear());
                                </script> Élantra Store. All Rights Reserved
                            </div>
                            <div class="tf-payment">
                                <img src="images/payments/visa.png" alt="">
                                <img src="images/payments/img-1.png" alt="">
                                <img src="images/payments/img-2.png" alt="">
                                <img src="images/payments/img-3.png" alt="">
                                <img src="images/payments/img-4.png" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
<!-- /Footer -->

</div>



<!-- gotop -->
<button id="goTop" class="bounce-forever">
    <span class="icon icon-arrow-up"></span>
</button>
<!-- /gotop -->

<!-- mobile menu -->
<div class="offcanvas offcanvas-start canvas-mb" id="mobileMenu">
    <span class="icon-close icon-close-popup" data-bs-dismiss="offcanvas" aria-label="Close"></span>
    <div class="mb-canvas-content">
        <div class="mb-body">
            <ul class="nav-ul-mb" id="wrapper-menu-navigation">
                <li class="nav-mb-item">
                    <a href="newarrival.html" class="mb-menu-link current">
                        <span>New Arrivals</span>
                    </a>
                </li>
                <li class="nav-mb-item">
                    <a href="bestseller.html" class="mb-menu-link current">
                        <span>Best Sellers</span>
                    </a>
                </li>
                <li class="nav-mb-item">
                    <a href="collection.html" class="mb-menu-link current">
                        <span>Collection</span>
                    </a>
                </li>
                <li class="nav-mb-item">
                    <a href="about-us.html" class="mb-menu-link current">
                        <span>About Us</span>
                    </a>
                </li>
                <li class="nav-mb-item">
                    <a href="contact.html" class="mb-menu-link current">
                        <span>Contact Us</span>
                    </a>
                </li>
            </ul>
            <div class="mb-other-content">
                <div class="d-flex group-icon">
                    <a href="wishlist.html" class="site-nav-icon"><i class="icon icon-heart"></i>Wishlist</a>
                </div>
                <ul class="mb-info">
                    <li>Address: 350 5th Avenue, 59th Floor, New York, NY 10118</li>
                    <li>Email: <b>contact@elantrafashion.com</b></li>
                    <li>Phone: <b>(212) 776-1122</b></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- /mobile menu -->


<!-- shoppingCart -->
<div class="modal fullRight fade modal-shopping-cart" id="shoppingCart">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="header">
                <div class="title fw-5">Shopping cart</div>
                <span class="btn icon-close icon-close-popup" data-bs-dismiss="modal"></span>
            </div>
            <div class="wrap">
                <div class="tf-mini-cart-wrap">
                    <div class="tf-mini-cart-main">
                        <div class="tf-mini-cart-sroll">
                            <div class="tf-mini-cart-items">
                                <div class="tf-mini-cart-item">
                                    <div class="tf-mini-cart-image">
                                        <a href="product-detail.html">
                                            <img src="images/products/sunglasses/s002_2.jpg" alt="">
                                        </a>
                                    </div>
                                    <div class="tf-mini-cart-info">
                                        <a class="title link" href="product-detail.html">T-shirt</a>
                                        <div class="meta-variant">Light gray</div>
                                        <div class="price fw-6">$25.00</div>
                                        <div class="tf-mini-cart-btns">
                                            <div class="wg-quantity small">
                                                <span class="btn-quantity minus-btn">-</span>
                                                <input type="text" name="number" value="1">
                                                <span class="btn-quantity plus-btn">+</span>
                                            </div>
                                            <div class="tf-mini-cart-remove">Remove</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tf-mini-cart-bottom">
                        <div class="tf-mini-cart-bottom-wrap">
                            <div class="tf-cart-totals-discounts">
                                <div class="tf-cart-total">Subtotal</div>
                                <div class="tf-totals-total-value fw-6">$49.99 USD</div>
                            </div>
                            <div class="tf-cart-tax">Taxes and <a href="javascript:void(0);">shipping</a> calculated at
                                checkout</div>
                            <div class="tf-mini-cart-view-checkout">
                                <a href="cart.html"
                                    class="tf-btn btn-outline radius-3 link w-100 justify-content-center">View
                                    cart</a>
                                <a href="checkout.html"
                                    class="tf-btn btn-fill animate-hover-btn radius-3 w-100 justify-content-center tf-page-cart-item"><span>Check
                                        out</span></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const cartModal = document.querySelector('#shoppingCart');
        const cartItemsContainer = cartModal.querySelector('.tf-mini-cart-items');
        const subtotalEl = cartModal.querySelector('.tf-totals-total-value');
        let products = [];

        // Load products from JSON
        fetch('products.json')
            .then(res => res.json())
            .then(data => { products = data; });

        // Utility to format price
        const formatPrice = price => `$${price.toFixed(2)}`;

        // Render cart items
        function renderCart() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.length === 0 ? document.querySelector(".tf-page-cart-item").classList.add("pe-none") : document.querySelector(".tf-page-cart-item").classList.add("pe-auto;");
            cartItemsContainer.innerHTML = '';
            let subtotal = 0;

            cart.forEach((item, index) => {
                const product = products.find(p => p.id === item.id);
                if (!product) return;

                const totalPrice = product.price * item.quantity;
                subtotal += totalPrice;

                const div = document.createElement('div');
                div.className = 'tf-mini-cart-item';
                div.dataset.index = index;

                div.innerHTML = `
                <div class="tf-mini-cart-image">
                    <a href="product-detail.html?id=${product.id}">
                        <img src="${product.images?.[0] || 'images/no-image.jpg'}" alt="${product.title}">
                    </a>
                </div>
                <div class="tf-mini-cart-info">
                    <a class="title link" href="product-detail.html?id=${product.id}">${product.title}</a>
                    <div class="meta-variant">${item.color || ''} ${item.size ? `- ${item.size}` : ''}</div>
                    <div class="price fw-6">${formatPrice(totalPrice)}</div>
                    <div class="tf-mini-cart-btns">
                        <div class="wg-quantity small">
                            <span class="btn-quantity minus-btn">-</span>
                            <input type="text" value="${item.quantity}" readonly>
                            <span class="btn-quantity plus-btn">+</span>
                        </div>
                        <div class="btn tf-mini-cart-remove">Remove</div>
                    </div>
                </div>
            `;
                cartItemsContainer.appendChild(div);
            });

            subtotalEl.textContent = formatPrice(subtotal);
        }

        // Update localStorage and re-render cart
        function updateCart(cart) {
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
            updateCartCount();
        }

        // Update cart count in header
        function updateCartCount() {
            const countBox = document.querySelector('.nav-cart .nav-icon-item .count-box');
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const count = cart.reduce((sum, item) => sum + item.quantity, 0);
            if (countBox) countBox.textContent = count;
        }

        // Event listeners for cart modal interactions
        cartItemsContainer.addEventListener('click', (e) => {
            const itemEl = e.target.closest('.tf-mini-cart-item');
            if (!itemEl) return;
            const index = +itemEl.dataset.index;
            let cart = JSON.parse(localStorage.getItem('cart')) || [];

            // Quantity increase
            if (e.target.classList.contains('plus-btn')) {
                cart[index].quantity += 1;
                updateCart(cart);
            }

            // Quantity decrease
            if (e.target.classList.contains('minus-btn')) {
                if (cart[index].quantity > 1) {
                    cart[index].quantity -= 1;
                    updateCart(cart);
                }
            }

            // Remove item
            if (e.target.classList.contains('tf-mini-cart-remove')) {
                cart.splice(index, 1);
                updateCart(cart);
            }
        });

        // Re-render cart every time modal opens
        const shoppingCartModal = document.querySelector('#shoppingCart');
        shoppingCartModal.addEventListener('show.bs.modal', renderCart);

        // Initialize count on load
        updateCartCount();
    });
</script>

<!-- /shoppingCart -->


<!-- modal quick_add -->
<div class="modal fade modalDemo popup-quickadd" id="quick_add">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <!-- <div class="header">
                <span class="icon-close icon-close-popup" data-bs-dismiss="modal"></span>
            </div> -->
            <div class="wrap">
                <div class="tf-product-info-item">
                    <div class="image">
                        <img src="images/products/sunglasses/s002_2.jpg" alt="">
                    </div>
                    <div class="content">
                        <a href="product-detail.html">Ribbed Tank Top</a>
                        <div class="tf-product-info-price">
                            <!-- <div class="price-on-sale">$8.00</div>
                                <div class="compare-at-price">$10.00</div>
                                <div class="badges-on-sale"><span>20</span>% OFF</div> -->
                            <div class="price">$18.00</div>
                        </div>
                    </div>
                </div>
                <div class="tf-product-info-variant-picker mb_15">
                    <div class="variant-picker-item colorPicker">
                        <div class="variant-picker-label">
                            Color: <span class="fw-6 variant-picker-label-value">Orange</span>
                        </div>
                        <div class="variant-picker-values">
                            <input id="values-orange" type="radio" name="color" checked>
                            <label class="hover-tooltip radius-60" for="values-orange" data-value="Orange">
                                <span class="btn-checkbox bg-color-orange"></span>
                                <span class="tooltip">Orange</span>
                            </label>
                            <input id="values-black" type="radio" name="color">
                            <label class=" hover-tooltip radius-60" for="values-black" data-value="Black">
                                <span class="btn-checkbox bg-color-black"></span>
                                <span class="tooltip">Black</span>
                            </label>
                            <input id="values-white" type="radio" name="color">
                            <label class="hover-tooltip radius-60" for="values-white" data-value="White">
                                <span class="btn-checkbox bg-color-white"></span>
                                <span class="tooltip">White</span>
                            </label>
                        </div>
                    </div>
                    <div class="variant-picker-item sizePicker">
                        <div class="variant-picker-label">
                            Size: <span class="fw-6 variant-picker-label-value">S</span>
                        </div>
                        <div class="variant-picker-values">
                            <input type="radio" name="size" id="values-s" checked>
                            <label class="style-text" for="values-s" data-value="S">
                                <p>S</p>
                            </label>
                            <input type="radio" name="size" id="values-m">
                            <label class="style-text" for="values-m" data-value="M">
                                <p>M</p>
                            </label>
                            <input type="radio" name="size" id="values-l">
                            <label class="style-text" for="values-l" data-value="L">
                                <p>L</p>
                            </label>
                            <input type="radio" name="size" id="values-xl">
                            <label class="style-text" for="values-xl" data-value="XL">
                                <p>XL</p>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="tf-product-info-quantity mb_15">
                    <div class="quantity-title fw-6">Quantity</div>
                    <div class="wg-quantity">
                        <span class="btn-quantity minus-btn">-</span>
                        <input type="text" name="number" value="1">
                        <span class="btn-quantity plus-btn">+</span>
                    </div>
                </div>
                <div class="tf-product-info-buy-button">
                    <form>
                        <a
                            class="tf-btn btn-fill justify-content-center fw-6 fs-16 flex-grow-1 animate-hover-btn btn-add-to-cart"><span>Add
                                to cart</a>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        let products = [];

        // Fetch product data from JSON
        fetch('products.json')
            .then(res => res.json())
            .then(data => { products = data; });

        // Quick Add modal handler
        document.addEventListener('click', (e) => {
            const btn = e.target.closest('.quick-add');
            if (!btn) return;

            const productId = btn.dataset.productId;
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const modal = document.querySelector('#quick_add');
            const addToCartBtn = modal.querySelector('.btn-add-to-cart');

            // Set base data attributes
            addToCartBtn.setAttribute('data-product-id', product.id);
            addToCartBtn.setAttribute('data-quantity', '1'); // default quantity

            // Image, title, link, price
            modal.querySelector('.tf-product-info-item .image img').src = product.images?.[0] || '';
            modal.querySelector('.tf-product-info-item .content a').textContent = product.title;
            modal.querySelector('.tf-product-info-item .content a').href = `product-detail.html?id=${product.id}`;
            modal.querySelector('.tf-product-info-price .price').textContent = `$${product.price.toFixed(2)}`;
            addToCartBtn.innerHTML = `<span>Add to cart</span>`;

            // === COLOR ===
            const colorSection = modal.querySelector('.colorPicker');
            const colorWrapper = colorSection?.querySelector('.variant-picker-values');
            const colorLabelValue = colorSection?.querySelector('.variant-picker-label-value');
            if (Array.isArray(product.color) && product.color.length > 0) {
                colorSection.style.display = 'block';
                colorWrapper.innerHTML = product.color.map((color, i) => `
                    <input id="values-${color.toLowerCase()}" type="radio" name="color" ${i === 0 ? 'checked' : ''}>
                    <label class="hover-tooltip radius-60" for="values-${color.toLowerCase()}" data-value="${color}">
                        <span class="btn-checkbox" style="background:${color.toLowerCase()}"></span>
                        <span class="tooltip">${color}</span>
                    </label>
                `).join('');
                addToCartBtn.setAttribute('data-color', product.color[0]);
                if (colorLabelValue) colorLabelValue.textContent = product.color[0];
            } else {
                colorSection.style.display = 'none';
                addToCartBtn.removeAttribute('data-color');
            }

            // === SIZE ===
            const sizeSection = modal.querySelector('.sizePicker');
            const sizeWrapper = sizeSection?.querySelector('.variant-picker-values');
            const sizeLabelValue = sizeSection?.querySelector('.variant-picker-label-value');
            if (Array.isArray(product.size) && product.size.length > 0) {
                sizeSection.style.display = 'block';
                sizeWrapper.innerHTML = product.size.map((size, i) => `
                    <input type="radio" name="size" id="values-${size}" ${i === 0 ? 'checked' : ''}>
                    <label class="style-text" for="values-${size}" data-value="${size}">
                        <p>${size}</p>
                    </label>
                `).join('');
                addToCartBtn.setAttribute('data-size', product.size[0]);
                if (sizeLabelValue) sizeLabelValue.textContent = product.size[0];
            } else {
                sizeSection.style.display = 'none';
                addToCartBtn.removeAttribute('data-size');
            }

            // Reset quantity input to 1
            const quantityInput = modal.querySelector('.wg-quantity input[name="number"]');
            if (quantityInput) {
                quantityInput.value = '1';
                addToCartBtn.setAttribute('data-quantity', '1');
            }

            // Show modal
            new bootstrap.Modal(modal).show();
        });

        // Handle color/size/quantity changes
        document.addEventListener('change', (e) => {
            const modal = document.querySelector('#quick_add');
            const addToCartBtn = modal.querySelector('.btn-add-to-cart');
            if (!addToCartBtn) return;

            // Color
            if (e.target.name === 'color') {
                const selectedLabel = modal.querySelector('input[name="color"]:checked + label');
                const selectedColor = selectedLabel?.dataset.value;
                if (selectedColor) {
                    addToCartBtn.setAttribute('data-color', selectedColor);
                    const colorLabelValue = modal.querySelector('.colorPicker .variant-picker-label-value');
                    if (colorLabelValue) colorLabelValue.textContent = selectedColor;
                }
            }

            // Size
            if (e.target.name === 'size') {
                const selectedLabel = modal.querySelector('input[name="size"]:checked + label');
                const selectedSize = selectedLabel?.dataset.value;
                if (selectedSize) {
                    addToCartBtn.setAttribute('data-size', selectedSize);
                    const sizeLabelValue = modal.querySelector('.sizePicker .variant-picker-label-value');
                    if (sizeLabelValue) sizeLabelValue.textContent = selectedSize;
                }
            }

            // Manual quantity input
            if (e.target.name === 'number') {
                const qty = parseInt(e.target.value);
                if (!isNaN(qty) && qty > 0) {
                    addToCartBtn.setAttribute('data-quantity', qty);
                }
            }
        });

        // Handle plus/minus buttons for quantity
        document.addEventListener('click', (e) => {
            const btn = e.target.closest('.btn-quantity');
            if (!btn) return;

            const modal = document.querySelector('#quick_add');
            const quantityInput = modal.querySelector('.wg-quantity input[name="number"]');
            const addToCartBtn = modal.querySelector('.btn-add-to-cart');
            if (!quantityInput || !addToCartBtn) return;

            let qty = parseInt(quantityInput.value) || 1;

            if (btn.classList.contains('plus-btn')) {
                qty += 1;
            } else if (btn.classList.contains('minus-btn')) {
                qty = Math.max(1, qty - 1);
            }

            quantityInput.value = qty;
            addToCartBtn.setAttribute('data-quantity', qty);
        });
    });
</script>

<!--<script>
    document.addEventListener('DOMContentLoaded', () => {
        let products = [];

        // Fetch product data from JSON
        fetch('products.json')
            .then(res => res.json())
            .then(data => { products = data; });

        // Quick Add modal handler
        document.addEventListener('click', (e) => {
            const btn = e.target.closest('.quick-add');
            if (!btn) return;

            const productId = btn.dataset.productId;
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const modal = document.querySelector('#quick_add');
            const addToCartBtn = modal.querySelector('.btn-add-to-cart');

            // Set base data attributes
            addToCartBtn.setAttribute('data-product-id', product.id);
            addToCartBtn.setAttribute('data-quantity', '1'); // default quantity

            // Image, title, link, price
            modal.querySelector('.tf-product-info-item .image img').src = product.images?.[0] || '';
            modal.querySelector('.tf-product-info-item .content a').textContent = product.title;
            modal.querySelector('.tf-product-info-item .content a').href = `product-detail.html?id=${product.id}`;
            modal.querySelector('.tf-product-info-price .price').textContent = `$${product.price.toFixed(2)}`;
            addToCartBtn.innerHTML = `<span>Add to cart</span>`;

            // === COLOR ===
            const colorSection = modal.querySelector('.colorPicker');
            const colorWrapper = colorSection?.querySelector('.variant-picker-values');
            if (Array.isArray(product.color) && product.color.length > 0) {
                colorSection.style.display = 'block';
                colorWrapper.innerHTML = product.color.map((color, i) => `
                    <input id="values-${color.toLowerCase()}" type="radio" name="color" ${i === 0 ? 'checked' : ''}>
                    <label class="hover-tooltip radius-60" for="values-${color.toLowerCase()}" data-value="${color}">
                        <span class="btn-checkbox" style="background:${color.toLowerCase()}"></span>
                        <span class="tooltip">${color}</span>
                    </label>
                `).join('');
                addToCartBtn.setAttribute('data-color', product.color[0]);
            } else {
                colorSection.style.display = 'none';
                addToCartBtn.removeAttribute('data-color');
            }

            // === SIZE ===
            const sizeSection = modal.querySelector('.sizePicker');
            const sizeWrapper = sizeSection?.querySelector('.variant-picker-values');
            if (Array.isArray(product.size) && product.size.length > 0) {
                sizeSection.style.display = 'block';
                sizeWrapper.innerHTML = product.size.map((size, i) => `
                    <input type="radio" name="size" id="values-${size}" ${i === 0 ? 'checked' : ''}>
                    <label class="style-text" for="values-${size}" data-value="${size}">
                        <p>${size}</p>
                    </label>
                `).join('');
                addToCartBtn.setAttribute('data-size', product.size[0]);
            } else {
                sizeSection.style.display = 'none';
                addToCartBtn.removeAttribute('data-size');
            }

            // Reset quantity input to 1
            const quantityInput = modal.querySelector('.wg-quantity input[name="number"]');
            if (quantityInput) {
                quantityInput.value = '1';
                addToCartBtn.setAttribute('data-quantity', '1');
            }

            // Show modal
            new bootstrap.Modal(modal).show();
        });

        // Handle color/size/quantity changes
        document.addEventListener('change', (e) => {
            const modal = document.querySelector('#quick_add');
            const addToCartBtn = modal.querySelector('.btn-add-to-cart');
            if (!addToCartBtn) return;

            // Color
            if (e.target.name === 'color') {
                const selectedLabel = modal.querySelector('input[name="color"]:checked + label');
                const selectedColor = selectedLabel?.dataset.value;
                if (selectedColor) {
                    addToCartBtn.setAttribute('data-color', selectedColor);
                }
            }

            // Size
            if (e.target.name === 'size') {
                const selectedLabel = modal.querySelector('input[name="size"]:checked + label');
                const selectedSize = selectedLabel?.dataset.value;
                if (selectedSize) {
                    addToCartBtn.setAttribute('data-size', selectedSize);
                }
            }

            // Manual input in quantity
            if (e.target.name === 'number') {
                const qty = parseInt(e.target.value);
                if (!isNaN(qty) && qty > 0) {
                    addToCartBtn.setAttribute('data-quantity', qty);
                }
            }
        });

        // Handle plus/minus buttons in quantity
        document.addEventListener('click', (e) => {
            const btn = e.target.closest('.btn-quantity');
            if (!btn) return;

            const modal = document.querySelector('#quick_add');
            const quantityInput = modal.querySelector('.wg-quantity input[name="number"]');
            const addToCartBtn = modal.querySelector('.btn-add-to-cart');
            if (!quantityInput || !addToCartBtn) return;

            let qty = parseInt(quantityInput.value) || 1;

            if (btn.classList.contains('plus-btn')) {
                qty += 1;
            } else if (btn.classList.contains('minus-btn')) {
                qty = Math.max(1, qty - 1);
            }

            quantityInput.value = qty;
            addToCartBtn.setAttribute('data-quantity', qty);
        });
    });
</script>-->
<!-- /modal quick_add -->


<!-- wishlist count -->
<script>
    function updateWishlistCount() {
        const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
        const countBox = document.querySelector('.nav-icon-item .count-box');
        if (countBox) {
            countBox.textContent = wishlist.length;
        }
    }

</script>
<!-- wishlist count -->

<!-- add to wishlist -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];

        function updateWishlistCount() {
            const countBox = document.querySelector('.nav-icon-item .count-box');
            if (countBox) {
                countBox.textContent = wishlist.length;
            }
        }

        // Delegate click listener for dynamic content
        document.addEventListener('click', function (e) {
            const btn = e.target.closest('.wishlist-btn');
            if (!btn) return;

            const productId = btn.dataset.productId;
            if (!productId) return;

            const index = wishlist.indexOf(productId);
            if (index > -1) {
                wishlist.splice(index, 1);
                btn.classList.remove('active');
            } else {
                wishlist.push(productId);
                btn.classList.add('active');
            }

            localStorage.setItem('wishlist', JSON.stringify(wishlist));
            updateWishlistCount(); // ✅ Update count on each change
        });

        // Set button active states on page load
        document.querySelectorAll('.wishlist-btn').forEach(btn => {
            const productId = btn.dataset.productId;
            if (wishlist.includes(productId)) {
                btn.classList.add('active');
            }
        });

        updateWishlistCount(); // ✅ Initial count setup
    });

</script>
<!-- /add to wishlist -->

<!-- add to cart -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Retrieve or initialize cart array from localStorage
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        // Update the cart count badge in the header
        function updateCartCount() {
            const countBox = document.querySelector('.nav-cart .nav-icon-item .count-box');
            if (countBox) {
                countBox.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
            }
        }

        // Handle add-to-cart clicks
        document.addEventListener('click', function (e) {
            const btn = e.target.closest('.btn-add-to-cart');
            if (!btn) return;

            const productId = btn.getAttribute('data-product-id');
            const color = btn.getAttribute('data-color');
            const size = btn.getAttribute('data-size');
            const quantity = parseInt(btn.getAttribute('data-quantity')) || 1;

            if (!productId) return;

            // Check if the exact same product (same ID, color, size) is already in cart
            const existingItem = cart.find(item =>
                item.id === productId &&
                item.color === color &&
                item.size === size
            );

            if (existingItem) {
                // Update quantity
                existingItem.quantity += quantity;
            } else {
                // Add new item
                cart.push({
                    id: productId,
                    color: color,
                    size: size,
                    quantity: quantity
                });
            }

            // Save updated cart and update count
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();

            // Open the cart modal
            const cartModalEl = document.getElementById('shoppingCart');
            if (cartModalEl) {
                const cartModal = new bootstrap.Modal(cartModalEl);
                cartModal.show();
            }
        });

        // Initialize cart count on page load
        updateCartCount();
    });
</script>
<!-- add to cart -->


<!-- Javascript -->
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.min.js"></script>
<script src="js/swiper-bundle.min.js"></script>
<script src="js/carousel.js"></script>
<script src="js/bootstrap-select.min.js"></script>
<script src="js/lazysize.min.js"></script>
<script src="js/wow.min.js"></script>
<script src="js/multiple-modal.js"></script>
<script src="js/main.js"></script>
</body>

</html>